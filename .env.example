# Database
DATABASE_URL="postgresql://username:password@localhost:5432/closet_dev?schema=public"

# AI Models (OpenAI Primary)
OPENAI_API_KEY="sk-..." # Primary AI provider
OPENAI_CHAT_MODEL="gpt-4o-mini" # For structured generation (normalize, price, condition)
OPENAI_EMBEDDING_MODEL="text-embedding-3-large" # 1536-dimensional embeddings
OPENAI_FALLBACK_MODEL="gpt-4o-mini" # Fallback if primary fails
OPENAI_API_BASE="" # Optional: if using proxy
OPENAI_TEMPERATURE_STRUCTURED="0.0" # For normalization, condition grading
OPENAI_TEMPERATURE_CREATIVE="0.3" # For title/description variants


# Worker Authentication
AI_WORKER_SERVICE_TOKEN="worker_secret_token_change_in_production" # Protect /api/aijobs/process

# Email Provider (Resend - Free tier: 100 emails/day)
# Get API key from https://resend.com/api-keys
RESEND_API_KEY="re_..." # Optional: logs to console in development if not set
EMAIL_FROM="Virtual Closet Arcade <noreply@yourdomain.com>"
NEXT_PUBLIC_APP_URL="http://localhost:3000" # Your app URL

# AWS S3 (or S3-compatible storage)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
S3_BUCKET_NAME="closet-items-images"
S3_UPLOAD_BUCKET="closet-uploads" # Presigned upload bucket

# Marketplace Integrations
# eBay (Production & Sandbox)
EBAY_CLIENT_ID=""
EBAY_CLIENT_SECRET=""
EBAY_REDIRECT_URI="http://localhost:3000/api/auth/ebay/callback"
EBAY_SANDBOX_MODE="true" # Set to false for production
EBAY_SANDBOX_CLIENT_ID="" # Sandbox credentials
EBAY_SANDBOX_CLIENT_SECRET=""

# Other Marketplaces
POSHMARK_API_KEY="" # If available
GRAILED_API_KEY="" # If available
MERCARI_API_KEY="" # If available
DEPOP_API_KEY="" # If available
SHOPIFY_API_KEY="" # If seller uses Shopify

# Publish Worker
PUBLISH_WORKER_SERVICE_TOKEN="publish_worker_secret_change_in_production"
PUBLISH_DEFAULT_FEES_CONFIG="" # Optional JSON or file path

# Authentication (NextAuth or similar)
NEXTAUTH_SECRET="generate_with_openssl_rand_base64_32"
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth (for user auth)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Apple OAuth (optional)
APPLE_CLIENT_ID=""
APPLE_CLIENT_SECRET=""

# Token Budgets & Cost Controls
DEFAULT_DAILY_TOKEN_BUDGET="100000"
DEFAULT_MONTHLY_TOKEN_BUDGET="1000000"
ADMIN_ALERT_EMAIL="ops@example.com"

# OpenAI Pricing (as of 2025)
TOKEN_COST_PER_1K_GPT4O_MINI_INPUT="0.00015" # $0.15 per 1M input tokens
TOKEN_COST_PER_1K_GPT4O_MINI_OUTPUT="0.0006" # $0.60 per 1M output tokens
TOKEN_COST_PER_1K_EMBEDDING="0.00013" # $0.13 per 1M tokens (text-embedding-3-large)

# Rate Limiting
MAX_CONCURRENT_AI_JOBS="10"
MAX_JOBS_PER_USER_PER_HOUR="50"

# Observability
SENTRY_DSN="" # Optional
DATADOG_API_KEY="" # Optional
LOG_LEVEL="info" # debug, info, warn, error

# Feature Flags
ENABLE_AUTO_PUBLISH="false" # Safety: disable auto-publish until tested
ENABLE_BULK_OPERATIONS="false" # Enable bulk AIJob creation
ENABLE_LINEAR_MCP="true" # Enable Linear integration for needs_review
REQUIRE_LINEAR_FOR_BULK="true" # Require Linear approval for bulk operations

# Environment
NODE_ENV="development" # development, staging, production
PORT="3000"

# Webhook Secrets
LINEAR_WEBHOOK_SECRET="" # For validating Linear webhook payloads
EBAY_WEBHOOK_SECRET="" # For marketplace webhooks
