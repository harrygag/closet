# Database
DATABASE_URL="postgresql://username:password@localhost:5432/closet_dev?schema=public"

# AI Models
CLAUDE_API_KEY="sk-ant-..."
OPENAI_API_KEY="sk-..." # For embeddings or fallback
CLAUDE_MODEL="claude-sonnet-4.5-20250929" # Primary model for generation
EMBEDDING_MODEL="text-embedding-3-small" # OpenAI embedding model
EMBEDDING_PROVIDER="openai" # or "claude" if available

# Linear MCP Integration
LINEAR_API_KEY="lin_api_..."
LINEAR_TEAM_ID="" # Optional: specify team ID
LINEAR_PROJECT_ID="" # Optional: specify project ID for AI review issues
LINEAR_WORKSPACE_NAME="reseller-closet" # Default workspace name

# Worker Authentication
AI_WORKER_SERVICE_TOKEN="worker_secret_token_change_in_production" # Protect /api/aijobs/process

# AWS S3 (or S3-compatible storage)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
S3_BUCKET_NAME="closet-items-images"
S3_UPLOAD_BUCKET="closet-uploads" # Presigned upload bucket

# Marketplace Integrations
EBAY_CLIENT_ID=""
EBAY_CLIENT_SECRET=""
EBAY_REDIRECT_URI="http://localhost:3000/api/auth/ebay/callback"

POSHMARK_API_KEY="" # If available
GRAILED_API_KEY="" # If available
MERCARI_API_KEY="" # If available

# Authentication (NextAuth or similar)
NEXTAUTH_SECRET="generate_with_openssl_rand_base64_32"
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth (for user auth)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Apple OAuth (optional)
APPLE_CLIENT_ID=""
APPLE_CLIENT_SECRET=""

# Token Budgets & Cost Controls
DEFAULT_DAILY_TOKEN_BUDGET="100000"
DEFAULT_MONTHLY_TOKEN_BUDGET="1000000"
ADMIN_ALERT_EMAIL="ops@example.com"
TOKEN_COST_PER_1K_CLAUDE_SONNET="0.003" # $3 per 1M input tokens
TOKEN_COST_PER_1K_CLAUDE_OUTPUT="0.015" # $15 per 1M output tokens
TOKEN_COST_PER_1K_EMBEDDING="0.0001" # Embedding cost

# Rate Limiting
MAX_CONCURRENT_AI_JOBS="10"
MAX_JOBS_PER_USER_PER_HOUR="50"

# Observability
SENTRY_DSN="" # Optional
DATADOG_API_KEY="" # Optional
LOG_LEVEL="info" # debug, info, warn, error

# Feature Flags
ENABLE_AUTO_PUBLISH="false" # Safety: disable auto-publish until tested
ENABLE_BULK_OPERATIONS="false" # Enable bulk AIJob creation
ENABLE_LINEAR_MCP="true" # Enable Linear integration for needs_review
REQUIRE_LINEAR_FOR_BULK="true" # Require Linear approval for bulk operations

# Environment
NODE_ENV="development" # development, staging, production
PORT="3000"

# Webhook Secrets
LINEAR_WEBHOOK_SECRET="" # For validating Linear webhook payloads
EBAY_WEBHOOK_SECRET="" # For marketplace webhooks
