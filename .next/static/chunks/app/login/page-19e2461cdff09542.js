(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63:(e,r,t)=>{"use strict";var s=t(7260);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},5404:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(5155),a=t(2115),n=t(63);function i(){let[e,r]=(0,a.useState)(""),[t,i]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!1),[c,o]=(0,a.useState)(null),m=(0,n.useSearchParams)(),x=m.get("error"),u=async r=>{r.preventDefault(),i(!0),o(null);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,redirectTo:m.get("redirectTo")||"/dashboard"})}),t=await r.json();r.ok?d(!0):o(t.error||"Failed to send magic link")}catch(e){o("Network error. Please try again.")}finally{i(!1)}},h=c||(()=>{switch(x){case"missing_token":return"No authentication token provided.";case"invalid_token":return"Invalid or expired magic link.";case"token_already_used":return"This magic link has already been used.";case"token_expired":return"This magic link has expired. Please request a new one.";case"server_error":return"Server error. Please try again.";default:return null}})();return l?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-orange-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-black/40 backdrop-blur-lg rounded-2xl p-8 text-center border border-white/20",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Check your email!"}),(0,s.jsx)("p",{className:"text-gray-300 mb-2",children:"We've sent a magic link to:"}),(0,s.jsx)("p",{className:"text-pink-400 font-semibold text-lg mb-6",children:e}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mb-8",children:"Click the link in the email to sign in. The link expires in 15 minutes."}),(0,s.jsx)("button",{onClick:()=>{d(!1),r("")},className:"text-pink-400 hover:text-pink-300 underline text-sm",children:"Send to a different email"})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-orange-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-black/40 backdrop-blur-lg rounded-2xl p-8 border border-white/20",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 via-purple-400 to-orange-400 bg-clip-text text-transparent mb-2",children:"Virtual Closet Arcade"}),(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:"AI-Powered Multi-Marketplace Reselling"})]}),h&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-200 text-sm",children:h}),(0,s.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email address"}),(0,s.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>r(e.target.value),required:!0,placeholder:"you@example.com",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full py-3 px-4 bg-gradient-to-r from-pink-500 via-purple-500 to-orange-500 text-white font-semibold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Sending...":"Send Magic Link"})]}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-white mb-2",children:"\uD83D\uDD10 Passwordless Sign-In"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 leading-relaxed",children:"No password needed! We'll send you a secure magic link to sign in. The link works once and expires after 15 minutes."})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-2 text-xs text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),(0,s.jsx)("span",{children:"AI-powered pricing & condition grading"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),(0,s.jsx)("span",{children:"Smart inventory tracking & analytics"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),(0,s.jsx)("span",{children:"Semantic search with vector embeddings"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-green-400",children:"✓"}),(0,s.jsx)("span",{children:"Mobile-first design"})]})]})]})})}function l(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-orange-900 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white",children:"Loading..."})}),children:(0,s.jsx)(i,{})})}},7749:(e,r,t)=>{Promise.resolve().then(t.bind(t,5404))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7749)),_N_E=e.O()}]);